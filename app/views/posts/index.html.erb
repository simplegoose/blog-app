<article class="main_article" style="width: 90%; margin: auto">
  <div style="display: flex; align-items: center; justify-content: space-between;">
    <%= image_tag @user.photo, :class => "user_avatar" %>
    <div class="user_details">
      <p><%= @user.name %></p>
      <span>Number of posts: <%= @user.post_counter %></span>
    </div>
  </div>

  <% @user.recent_posts.each_with_index do |post, index| %>
    <%= link_to "/users/#{@user.id}/posts/#{post.id}", :class => "text-decoration-none" do %>
      <div>
        <div class="post">
          <h4>Post #<%= index + 1 %></h4>
          <div>
            <p class="post_title text-black"><%= post.title %></p>
          </div>
          <div class="post_footer text-black">
            <span>Comments: <%= post.comment__counter %></span>
            <span>Likes: <%= post.likes_counter %></span>
          </div>
        </div>
        <div class="post_comments">
          <div class="comments">
            <% post.recent_comments.each do |comment| %>
              <div class="comment">
                <span>User <%= comment.users_id %></span> : <span><%= comment.text %></span>
              </div>
            <% end %>
          </div>
        </div>
      </div>
    <% end %>
  <% end %>

  <%= link_to "Pagination", "/users/#{@user.id}/posts", :class => 'see_all_link' %>
</article>
